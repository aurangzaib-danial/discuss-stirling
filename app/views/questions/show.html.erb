<main class="container custom-container mt-3">
  <section id="question">
    <h3><%= @question.title %></h3>
    <p><%= @question.subject.title %></p>
    <div class="text-end">
      <span class="fs-6 me-2">0 Votes</span>
      <button class="btn btn-primary">Vote</button>
    </div>
    <hr>
    <p><%= @question.body %></p>
    <div class="text-end mt-5">
      <%= link_to 'Edit', edit_question_path(@question), class: "text-muted text-decoration-none" %><br>
      <%= user_info(@question.questioner) %> <span class="text-muted"> asked <%= created_at_in_words(@question) %></span>
    </div>
  </section>

  <section id="answers" class="mt-5">
    <h5 class="fw-normal"><%= answers_count(@question.answers_count) %></h5>
    <%= render @question.answers %>
  </section>

  <section id="newAnswer" class="mt-5">
    <h5 class="fw-normal">Your Answer</h5>
    <%= form_with model: [@question, @question.answers.build], data: {controller: "new-question-form", action: "new-question-form#validations turbo:submit-end->new-question-form#reset"} do |form| %>
      <div class="mt-3 mb-4">
        <%= form.rich_text_area :body, class: "form-control", data: {new_question_form_target: "body"} %>
        <div class="invalid-feedback" data-new-question-form-target="errorMessage"></div>
      </div>
      <%= form.submit 'Post Your Answer', class: "btn btn-primary" %>
    <% end %>
  </section>
</main>